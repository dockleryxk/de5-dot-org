---
phase: 1.1-set-up-styling
plan: 02
subsystem: ui
tags: [vue-components, bulma-navbar, dark-mode-toggle, lucide-icons, color-mode, responsive-layout, pug]

# Dependency graph
requires:
  - phase: 1.1-01
    provides: Bulma CSS framework, SCSS design tokens, dark mode infrastructure, Lucide icon auto-imports
provides:
  - ThemeToggle component with sun/moon icon toggle via useColorMode()
  - Bulma navbar layout shell with hamburger menu for mobile
  - Footer with copyright and site description
  - Styled homepage placeholder with Bulma section/container/content/box classes
  - Route-aware mobile menu close behavior
affects: [all-future-ui-phases, content-pages, faq-display]

# Tech tracking
tech-stack:
  added: []
  patterns: [client-only-for-color-mode-hydration, pug-eslint-override, bulma-navbar-with-is-fixed-top]

key-files:
  created:
    - app/components/ThemeToggle.vue
  modified:
    - app/layouts/default.vue
    - app/pages/index.vue
    - eslint.config.mjs

key-decisions:
  - "Wrapped ThemeToggle icons in ClientOnly to prevent SSR hydration mismatch"
  - "Disabled @typescript-eslint/no-unused-vars for .vue files (Pug templates not parsed by vue-eslint-parser)"
  - "Bulma .is-fixed-top navbar with body padding-top offset from _base.scss"
  - "4 span elements inside .navbar-burger for Bulma 1.x hamburger icon"

patterns-established:
  - "Use ClientOnly for components that depend on client-side state (localStorage, colorMode)"
  - "Pug templates in Vue SFCs: <template lang='pug'>"
  - "SCSS variables accessed as vars.$token-name in scoped style blocks"
  - "Route watcher to close mobile menu on navigation"

# Metrics
duration: 6min
completed: 2026-02-09
---

# Phase 1.1 Plan 02: Layout Shell & Components Summary

**Responsive Bulma navbar with dark mode toggle, hamburger menu, styled homepage placeholder with 3-column card grid**

## Performance

- **Duration:** 6 min
- **Tasks:** 3 (2 auto + 1 human checkpoint)
- **Files modified:** 4

## Accomplishments
- ThemeToggle component with Lucide sun/moon icons, useColorMode() integration, and 44px touch targets
- Default layout with fixed-top navbar, site name, hamburger menu, ThemeToggle, and styled footer
- Homepage placeholder with Bulma section/container/title/content/columns/box classes
- Hydration mismatch resolved via ClientOnly wrapper for color-mode-dependent rendering
- User visual verification passed for all 6 checklist areas

## Task Commits

Each task was committed atomically:

1. **Task 1: Create ThemeToggle component** - `9abae5f` (feat)
2. **Task 2: Replace default layout and update homepage** - `49633fe` (feat)
3. **Hydration fix: ClientOnly wrapper for ThemeToggle icons** - `1d75daa` (fix)

## Files Created/Modified
- `app/components/ThemeToggle.vue` - Sun/moon dark mode toggle with useColorMode(), ClientOnly wrapper
- `app/layouts/default.vue` - Bulma navbar shell with hamburger, ThemeToggle, footer
- `app/pages/index.vue` - Styled homepage with section/container/title/content/columns/box
- `eslint.config.mjs` - Disabled @typescript-eslint/no-unused-vars for .vue files (Pug compatibility)

## Decisions Made
- Wrapped Lucide icon rendering in `<ClientOnly>` to prevent SSR/client hydration mismatch (server has no localStorage for colorMode)
- Disabled `@typescript-eslint/no-unused-vars` for `.vue` files because vue-eslint-parser cannot parse Pug template syntax (Vue's own `vue/no-unused-vars` still catches genuine issues)
- Used exactly 4 `<span>` elements inside `.navbar-burger` as required by Bulma 1.x

## Deviations from Plan

### Auto-fixed Issues

**1. [Rule 3 - Blocking] ESLint Pug template compatibility**
- **Found during:** Task 1 (ThemeToggle component)
- **Issue:** `@typescript-eslint/no-unused-vars` flags script setup variables used in Pug templates as unused
- **Fix:** Added Vue-file-specific override in eslint.config.mjs
- **Files modified:** eslint.config.mjs
- **Committed in:** `9abae5f` (Task 1 commit)

**2. [Rule 3 - Blocking] SSR hydration mismatch on ThemeToggle icons**
- **Found during:** Task 3 (Visual verification checkpoint)
- **Issue:** Server renders Moon icon (no localStorage), client expects Sun icon, causing Vue hydration warnings
- **Fix:** Wrapped LucideSun/LucideMoon in `<ClientOnly>` component
- **Files modified:** app/components/ThemeToggle.vue
- **Committed in:** `1d75daa` (fix commit)

---

**Total deviations:** 2 auto-fixed (2 blocking)
**Impact on plan:** Both fixes necessary for correctness. No scope creep.

## Issues Encountered
None beyond the deviations documented above.

## User Setup Required
None - no external service configuration required.

## Next Phase Readiness
- Complete layout shell ready for content pages (Phase 2+)
- Dark mode toggle functional with localStorage persistence
- Responsive hamburger menu works on mobile
- Bulma CSS classes verified working in templates
- SCSS design tokens verified working in scoped styles
- Inter font self-hosted via @nuxt/fonts

## Self-Check: PASSED

All key files verified on disk. All 3 task commits verified in git log. User approved visual checkpoint.

---
*Phase: 1.1-set-up-styling*
*Completed: 2026-02-09*
